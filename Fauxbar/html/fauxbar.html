<html> <!-- Main Fauxbar page -->
<head>
<script type="text/javascript" src="/js/jquery-1.6.3.min.js"></script>
	<script type="text/javascript">
		chrome.tabs.getCurrent(function(tab){
			chrome.tabs.update(tab.id, {selected:localStorage.option_openfauxbarfocus == "chrome" ? false : true}, function(){
				$(document).ready(function(){
					jQuery.getScript("/js/md5-min.js");
					jQuery.getScript("/js/fauxbar-2.js");
					jQuery.getScript("/js/common-1.js");
					jQuery.getScript("/js/fauxbar-1.js");
				});
			});
		});
		var speech = localStorage.option_speech == 1 ? "x-webkit-speech" : "";
	</script>
	<title>Fauxbar</title>
	<link href="/css/fauxbar.css" rel="stylesheet" type="text/css" />
	<style type="text/css" id="customstyle"></style>
	<style type="text/css" id="editTileStyle"></style>

	<script type="text/javascript" src="/js/common.js"></script>
	<script type="text/javascript" src="/js/logerror.js"></script>
	<script type="text/javascript" src="/js/fauxbar.js"></script>
	<script type="text/javascript" src="/js/jquery.rangyinputs.js"></script>
</head>
<body>

	<!-- Background container -->
	<div id="background"></div>

	<!-- Container for the Fauxbar, Options, results and queries/suggestions -->
	<div id="maindiv" style="padding:25px">

		<!-- The gradient-filled, rounded-corner padding for the input boxes -->
		<div class="wrapper">

			<!-- The input boxes -->
			<div id="thefauxbar">

				<table>
					<tr>
						<!-- Address Box -->
						<td style="width:60%;" id="leftcell">
							<div id="addresswrapper" class="inputwrapper">
								<table cellpadding="0" cellspacing="0" style="border-collapse:collapse">
									<tr>
										<td style="width:1px; padding:2px">
											<div id="awesomeInsetButton" class="noInsetButton">
												<table style="width:1px; border-collapse:collapse; margin:0;" cellpadding="0" cellspacing="0" title="Search..." origtitle="Search...">
													<tr>
														<td class="superselect" style="width:1px; vertical-align:middle; padding-left:2px; padding-right:1px">
															<img id="addressbaricon" src="chrome://favicon/null" style="opacity:.75;" />
														</td>
														<td class="switchtext superselect" style="vertical-align:middle">
															Switch to tab:
														</td>
														<td class="superselect" id="super_triangle" style="width:1px; padding-right:0px; vertical-align:middle">
															<span class="triangle static" style="margin-top:1px">&#9660;</span>
														</td>
													</tr>
												</table>
											</div>
										</td>
										<td class="inputwrapper2" id="awesomeinputwrapper2">
											<table style="width:100%; border-collapse:collapse; padding:0; margin:0;" cellpadding="0" cellspacing="0">
												<tr>
													<td id="awesomeinput_cell" style="vertical-align:middle"></td>
													<td style="width:1px; vertical-align:middle; padding-right:4px; padding-left:5px;" id="address_goarrow" title="Go to the entered address">
														<img src="/img/goarrow.png" class="filter-tint" data-pb-tint-opacity="0" data-pb-tint-colour="#ff0000" style="" />
													</td>
													<td id="addressbox_triangle" style="width:1px; vertical-align:middle; padding-right:3px; padding-left:2px" title="Display your most frequented webpages" origtitle="Display your most frequented webpages">
														<span class="triangle static" style="margin-top:1px">&#9660;</span>
													</td>
												</tr>
											</table>
										</td>
									</tr>
								</table>
							</div>
						</td>

						<!-- Handle -->
						<td id="handle">&nbsp;</td>

						<!-- Search Box -->
						<td id="rightcell">
							<div id="searchwrapper" class="inputwrapper">
								<table cellpadding="0" cellspacing="0">
									<tr>
										<td style="width:1px;">
											<table style="width:1px; border-collapse:collapse; margin:0;" cellpadding="0" cellspacing="0">
												<tr>
													<td id="opensearch_triangle" style="width:1px; margin:0; padding:0">
														<div style="display:table-cell; vertical-align:text-top;  padding:1px 0px 0 5px; width:1px; ">
															<span title="Search using..." style="white-space:nowrap;"><script type="text/javascript">
																if (localStorage.osiconsrc) {
																	var ico = localStorage.osiconsrc == "google.ico" || localStorage.osiconsrc == "yahoo.ico" || localStorage.osiconsrc == "bing.ico" ? "/img/"+localStorage.osiconsrc : localStorage.osiconsrc;
																	$("#opensearch_triangle span").html('<img class="opensearch_selectedicon" src="'+ico+'" style="height:16px; width:16px;" /><span class="triangle static" style="margin-top:1px"></span>');
																} else {
																	$("#opensearch_triangle span").html('<img class="opensearch_selectedicon" src="chrome://favicon/null" style="height:16px; width:16px;" /><span class="triangle static" style="margin-top:1px"></span>');
																}
															</script></span>
														</div>
														<div style="display:table-cell; width:1px; vertical-align:middle; padding-right:1px; padding-left:0px;">
															<span class="triangle static" style="margin-top:1px">&#9660;</span>
														</div>
													</td>

												</tr>
											</table>
										</td>
										<td class="inputwrapper2" id="opensearchwrapper2">
											<table style="width:100%; border-collapse:collapse; padding:0; margin:0;" cellpadding="0" cellspacing="0">
												<tr>
													<td id="opensearchinput_cell" style="vertical-align:middle"></td>
													<td style="width:1px; vertical-align:middle; padding-right:3px; padding-left:4px" id="searchicon_cell" title="Search">
														<img src="/img/search.png" class="filter-tint" id="searchicon" />
													</td>
												</tr>
											</table>
										</td>

										<script type="text/javascript">
											$("#awesomeinput_cell").html('<input type="text" id="awesomeinput" '+(localStorage.option_openfauxbarfocus == "addressbox" ? "autofocus" : "")+' spellcheck="false" placeholder="Go to a web site" autocomplete="off" '+speech+' onwebkitspeechchange="setTimeout(function(){$(\'#awesomeinput\').setSelection($(\'#awesomeinput\').val().length,$(\'#awesomeinput\').val().length); getResults()},250)" />');
											$("#opensearchinput_cell").html('<input type="text" id="opensearchinput" '+(localStorage.option_openfauxbarfocus == "searchbox" ? "autofocus" : "")+' spellcheck="false" autocomplete="off" placeholder="'+str_replace('"', '&quot;', localStorage.osshortname)+'" '+speech+' onwebkitspeechchange="setTimeout(function(){$(\'#opensearchinput\').setSelection($(\'#opensearchinput\').val().length,$(\'#opensearchinput\').val().length); getSearchSuggestions()},250)" />');
										</script>

									</tr>
								</table>
							</div>
						</td>
					</tr>
				</table>


			</div>
		</div>

		<!-- Top site thumb tiles -->
		<div id="topthumbs"></div>

		<!-- Tiles for user's Chrome apps -->
		<div id="apps"></div>
	</div>

	<!-- The "sapps" (sites&apps) button switcher -->
	<div id="sapps">
		<button id="sapps1" onclick="window.sapps(1)">Sites</button>
		<button id="sapps2" onclick="window.sapps(2)">Apps</button>
	</div>

	<!-- Error message balloon -->
	<div id="errorBox" style="display:none">
		<table style="width:auto">
			<tr>
				<td style="padding:10px 0 11px 11px">
					<img src="/img/fauxbar48sad.png" />
				</td>
				<td style="padding:11px 11px 11px 6px">
					<img class="errorBoxCross" src="/img/cross.png" style="float:right; position:relative; top:-7px; right:-14px" onclick="$('#errorBox').css('display','none'); return true;" />
					<div style="margin-bottom:5px; font-size:110%;">
						<b>Fauxbar has encountered an error</b>
					</div>
					<div style="max-width:320px" id="errorMessage"></div>
					<div style="opacity:.43"  id="errorLine"></div>
					<div style="margin-top:7px; font-size:95%; font-weight:bold">
						<a href="/html/fauxbar.errorlog.html" onclick="$('#errorBox').css('display','none'); return true;" target="_blank" style="color:#06c;">Open the error log</a>
					</div>
				</td>
			</tr>
		</table>
	</div>

	<!-- Hidden icon images that will get colored/tinted once the page loads -->
	<img src="/img/fauxstar.png" id="fauxstar" style="position:Relative; display:none; height:16px; width:16px;" />
	<img src="/img/goarrow.png" id="goarrow_hovered" class="filter-tint" data-pb-tint-opacity=".3" data-pb-tint-colour="#000" style="display:none; height:14px; width:14px" />
	<img src="/img/search.png" id="searchicon_hovered" class="filter-tint" data-pb-tint-opacity=".3" data-pb-tint-colour="#000" style="display:none; height:16px; width:16px;" />

	<!-- Containers that get filled and positioned upon user input -->
	<div id="opensearchmenu"></div>
	<input id="opensearch_menufocus" type="text" />
	<div id="opensearch_results"></div>
	<div id="results"></div>
</body>
</html>